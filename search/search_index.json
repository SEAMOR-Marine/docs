{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"Sturgeon_200_API/","title":"Sturgeon 200 API","text":""},{"location":"Sturgeon_200_API/#sturgeon-200-thruster-api","title":"Sturgeon 200 Thruster API","text":"<p>Revision 1.1</p>"},{"location":"Sturgeon_200_API/#1-introduction","title":"1. Introduction","text":"<p>This document outlines communication requirements for use of SEAMOR Sturgeon 200 Thruster. </p> <p>This communication protocol is based on MODBUS over RS-485. MODBUS based debugging tools and resources can be used for testing and validation, but no guarantee is made by SEAMOR for full compatibility with existing MODBUS devices or libraries. Terminology consistent with MODBUS standards is used throughout this document. Please refer to https://www.modbus.org/specs.php for more details.</p>"},{"location":"Sturgeon_200_API/#11-node-types","title":"1.1 Node Types","text":""},{"location":"Sturgeon_200_API/#111-client","title":"1.1.1 Client","text":"<p>The client is the network device that initiates all communication, typically a processor that will also communicate on other networks. </p> <p>Warning</p> <p>Only one Client is allowed per network</p> <p>Note</p> <p>Client is referred to as Master in Legacy MODBUS documentation</p>"},{"location":"Sturgeon_200_API/#111-server","title":"1.1.1 Server","text":"<p>A Server is a network device that responds to requests from a Client. Typically end node devices on the network.</p> <p>Warning</p> <p>Maximum 63 Servers on a network</p> <p>Note</p> <p>Server is referred to as Slave in Legacy MODBUS documentation. Slave ID is used in this document to identify Servers. </p>"},{"location":"Sturgeon_200_API/#2-network-requirements","title":"2. Network Requirements","text":""},{"location":"Sturgeon_200_API/#21-communication-port-settings","title":"2.1 Communication Port settings","text":"Setting Value Baud Rate 115200 Start Bit 1 Stop Bit 1 Parity Bit None"},{"location":"Sturgeon_200_API/#22-message-gap","title":"2.2  Message Gap","text":"<p>Minimum 20 ms required between messages on the network (received or transmitted).</p>"},{"location":"Sturgeon_200_API/#23-timeout","title":"2.3 Timeout","text":"<p>Any controllable action (eg. thruster rotation) will be maintained for a maximum of 1 second after successful message receipt. After timeout expiry the device will stop actions until the next valid command is recieved.</p>"},{"location":"Sturgeon_200_API/#3-message-types","title":"3. Message Types","text":""},{"location":"Sturgeon_200_API/#31-request-response","title":"3.1 Request/ Response","text":""},{"location":"Sturgeon_200_API/#311-frame-layouts","title":"3.1.1 Frame Layouts","text":""},{"location":"Sturgeon_200_API/#3111-client-read-request","title":"3.1.1.1 Client - Read Request","text":"Byte # 1 2 3 4 5 6 7 8 Name Slave ID Function ID Register Address MSB Register Address LSB # Registers MSB # Registers LSB CRC LSB CRC MSB"},{"location":"Sturgeon_200_API/#3112-server-read-reponse","title":"3.1.1.2 Server - Read Reponse","text":"Byte # 1 2 3 4 5 ... n-1 n Name Slave ID Function ID # Bytes Read Data MSB x Data LSB x ... CRC LSB CRC MSB"},{"location":"Sturgeon_200_API/#3113-client-write-request","title":"3.1.1.3 Client - Write Request","text":"Byte # 1 2 3 4 5 6 7 8 Name Slave ID Function ID Register Address MSB Register Address LSB Data MSB Data LSB CRC LSB CRC MSB"},{"location":"Sturgeon_200_API/#3114-server-write-response","title":"3.1.1.4 Server - Write Response","text":"Byte # 1 2 3 4 5 6 7 8 Name Slave ID Function ID Register Address MSB Register Address LSB Data MSB Data LSB CRC LSB CRC MSB"},{"location":"Sturgeon_200_API/#312-byte-definitions","title":"3.1.2 Byte Definitions","text":""},{"location":"Sturgeon_200_API/#3121-slave-id","title":"3.1.2.1 Slave ID","text":"<p>The unique 8-bit identifier for individual Servers. The configured device identifier valid in range of 0x01-0x3F (0x40-0xFE invalid, 0xFF indicates unconfigured).</p> <p>Slave ID 0x00 is reserved to indicate Broadcast Message (See Client Broadcast Definition). </p> <p>Warning</p> <p>The default Slave ID is 0xFF before receiving a Write Request setting the Slave ID. </p>"},{"location":"Sturgeon_200_API/#3122-function-id","title":"3.1.2.2 Function ID","text":"<p>The unique 8-bit identifier to represent operation requested of the Server. </p> Description ID code Read Read/Write Register 0x03 Read Read-only Register 0x04 Write Read/Write Register 0x06 <p>Note</p> <p>Other MODBUS Function IDs are not supported.</p>"},{"location":"Sturgeon_200_API/#3123-register-address","title":"3.1.2.3 Register Address","text":"<p>The 16-bit register address for target operation, offset from database start register. Split into Most Significant Byte (MSB) and Least Significant Byte (LSB).</p>"},{"location":"Sturgeon_200_API/#3124-number-of-registers","title":"3.1.2.4 Number Of Registers","text":"<p>The 16-bit value representing the number of registers in read request operation. Split into Most Significant Byte (MSB) and Least Significant Byte (LSB).</p>"},{"location":"Sturgeon_200_API/#3125-number-of-bytes-read","title":"3.1.2.5 Number of Bytes Read","text":"<p>The 8-bit value representing number of bytes returned.</p> <p>Note</p> <p>Each register contains 2 bytes</p>"},{"location":"Sturgeon_200_API/#3126-data","title":"3.1.2.6 Data","text":"<p>The 16-bit contents read from, or to be writtten into, target register. Split into Most Significant Byte (MSB) and Least Significant Byte (LSB).</p> <p>Note</p> <p>Read requests of greater than 1 register start at requested address</p>"},{"location":"Sturgeon_200_API/#3127-crc","title":"3.1.2.7 CRC","text":"<p>The 16-bit Cyclic Redundancy Check (CRC) value of frame. Split into Most Significant Byte (MSB) and Least Significant Byte (LSB).</p> <p>Standard MODBUS CRC-16-ANSI (CRC-16-IBM) is used with algebraic polynomial 0xA001 (reverse of 0x8005). </p> <p>Warning</p> <p>Sent in standard MODBUS little-endian format (CRC LSB first, CRC MSB second)</p>"},{"location":"Sturgeon_200_API/#32-client-broadcast","title":"3.2 Client Broadcast","text":"<p>Broadcast Messaging allows for simultaneous communication with all Servers on the network.</p> <p>Note</p> <p>Servers do not respond to Broadcast Messages</p> <p>Warning</p> <p>The maximum Broadcast Message length is 24 bytes</p>"},{"location":"Sturgeon_200_API/#321-frame-layout","title":"3.2.1 Frame Layout","text":"Byte # 1 2 3 4 5 6-22 n-1 n Name Slave  ID Function ID Register Address MSB Register Address LSB Broadcast ID Data Payload CRC LSB CRC MSB"},{"location":"Sturgeon_200_API/#322-byte-definitions","title":"3.2.2 Byte Definitions","text":""},{"location":"Sturgeon_200_API/#3221-slave-id","title":"3.2.2.1 Slave ID","text":"<p>The unique 8-bit identifier for individual Servers, configured device identifier valid in range of 0x01-0x3F (0x40-0xFE invalid, 0xFF indicates unconfigured).</p> <p>Note</p> <p>Byte 1 in the frame is Slave ID 0x00 indicating a Broadcast Message, all other Slave ID used in frame refer to specific Server</p>"},{"location":"Sturgeon_200_API/#3222-function-id","title":"3.2.2.2 Function ID","text":"<p>The unique 8-bit identifier to represent operation requested of the Server. </p> <p>Warning</p> <p>Only supported Broadcast Message function code is Write Read/Write Register: 0x06</p>"},{"location":"Sturgeon_200_API/#3223-register-address","title":"3.2.2.3 Register Address","text":"<p>The 16-bit register address for target operation, offset from the database start register. Split into Most Significant Byte (MSB) and Least Significant Byte (LSB).</p>"},{"location":"Sturgeon_200_API/#3224-broadcast-id","title":"3.2.2.4 Broadcast ID","text":"<p>The unique 8-bit identifier to indicate frame structure.</p> <p>Note</p> <p>Currently only Broadcast ID 0x01 is supported</p>"},{"location":"Sturgeon_200_API/#3225-data-payload","title":"3.2.2.5 Data Payload","text":"<p>The number of bytes and function specific to Broadcast ID (See Broadcast Payload Structure Definition)</p>"},{"location":"Sturgeon_200_API/#3226-crc","title":"3.2.2.6 CRC","text":"<p>The 16-bit Cyclic Redundancy Check (CRC) value of frame. Split into Most Significant Byte (MSB) and Least Significant Byte (LSB). </p> <p>Standard MODBUS CRC-16-ANSI (CRC-16-IBM) is used with algebraic polynomial 0xA001 (reverse of 0x8005). </p> <p>Warning</p> <p>Sent in standard MODBUS little-endian format (CRC LSB first, CRC MSB second)</p>"},{"location":"Sturgeon_200_API/#323-broadcast-payload-structure","title":"3.2.3 Broadcast Payload Structure","text":""},{"location":"Sturgeon_200_API/#3231-broadcast-id-0x01","title":"3.2.3.1 Broadcast ID 0x01","text":"<p>Used to broadcast direction and duty cycle to multiple Servers. Valid for 1-8 Servers simultaneously (maximum data payload 3-17 bytes). </p> <p>Note</p> <p>Variable frame lengths are supported</p> Data Payload Byte # 1 2 3 4 5 ... 16 17 Name Payload # Bytes Payload Byte 1A Payload Byte 1B Payload Byte 2A Payload Byte 2B ... Payload Byte 8A Payload Byte 8B"},{"location":"Sturgeon_200_API/#32311-payload-number-of-bytes","title":"3.2.3.1.1 Payload Number of Bytes","text":"<p>Number of payload bytes in the frame.</p>"},{"location":"Sturgeon_200_API/#32312-payload-byte-xa","title":"3.2.3.1.2 Payload Byte xA","text":"Bits 0-1 2-7 Function Thruster Direction Slave ID Description <pre> 0b00 = reverse  0b01 = forward  0b10 = invalid  0b11 = invalid </pre> See Slave ID definition"},{"location":"Sturgeon_200_API/#32313-payload-byte-xb","title":"3.2.3.1.3 Payload Byte xB","text":"Bits 0-7 Function Thruster Duty Cycle Description 0.5% / bit <p>Warning</p> <p>Maximum Thruster Duty Cycle is 100% (0xC8)</p>"},{"location":"Sturgeon_200_API/#33-exception-responses","title":"3.3 Exception Responses","text":"<p>Server Reponse to Client Requests</p> Byte # 1 2 3 4 5 Name Slave ID Function ID (Function ID | 0x80) Exception Code CRC LSB CRC MSB <p>Note</p> <p>The function codes for exception frames are Boolean OR with 0x80 and standard function codes</p>"},{"location":"Sturgeon_200_API/#4-register-addresses","title":"4 Register Addresses","text":""},{"location":"Sturgeon_200_API/#41-readwrite-registers","title":"4.1 Read/Write Registers","text":"Address Offset Byte Bit Name Description 40001 0 LSB Slave ID Unique Server Identifier 40001 0 MSB N/A - 40002 1 LSB Thruster Orientation <pre> 0x00:Left hand propeller (forward = counter-clockwise)  0x01:Right hand propeller (forward = clockwise)   0x02 - 0xFF :  Invalid  </pre> 40002 1 MSB N/A - 40003 2 LSB N/A - 40003 2 MSB N/A - 40004 3 LSB Thruster Duty Cycle 0.5% / bit 40004 3 MSB Thruster Direction 1 = forward,  0 = reverse 40005 4 LSB N/A - 40005 4 MSB N/A - <p>Note</p> <p>The propellor rotation direction reference from nozzle end of thruster</p> <p></p> <p> Clockwise Rotation </p>"},{"location":"Sturgeon_200_API/#42-read-only-register-addresses","title":"4.2 Read-Only Register Addresses","text":"Address Offset Byte Name Bit Resolution Offset Description 30001 0 LSB N/A - - - 30001 0 MSB Peripheral ID - - Unique Identifier for Device Type 30002 1 LSB N/A - - - 30002 1 MSB N/A - - - 30003 2 LSB Voltage 0.25 V/bit 0 Measured Input Voltage 30003 2 MSB Current 0.05 A/bit 0 Measured Current Consumption 30004 3 LSB Internal Temperature 1 \u00b0C/bit -50 \u00b0C Motor Driver Internal Temperature 30004 3 MSB N/A - - - 30005 4 LSB N/A - - - 30005 4 MSB N/A - - -"},{"location":"Sturgeon_200_API/#43-exception-response-codes","title":"4.3 Exception Response Codes","text":"<p>A unique 8-bit identifier used in response from Server to Client indicating success or error details.</p> Title Exception Code Description Illegal Function 0x01 The Server does not support requested function Illegal Data Address 0x02 The data address not valid for requested operation Illegal Data Value 0x03 The data value not valid for requested operation Server Failure 0x04 An unrecoverable failure occured while performing requested operation ACK 0x05 The Server has accepted the request, some duration of time should be expected before complete Server Busy 0x06 The Server is currently busy processing a prior request NACK 0x07 The Server cannot perform the requested operation"},{"location":"Sturgeon_200_API/#5-example-message-exchanges","title":"5 Example Message Exchanges","text":""},{"location":"Sturgeon_200_API/#51-read-request-example-1","title":"5.1 Read Request - Example 1","text":"<p>Read Request for Voltage and Current from Slave ID 16:</p> Slave ID Function ID Register Address MSB Register Address LSB # Registers MSB # Registers LSB CRC LSB CRC MSB 0x10 0x04 0x00 0x02 0x00 0x01 0x93 0x4B <p>Response from Server to the Client:</p> Slave ID Function ID # Bytes Read Data MSB Data LSB CRC LSB CRC MSB 0x10 0x04 0x02 0x04 0x40 0x46 0x03 <p>Slave ID 16 responds current 0.2A and voltage 16V.</p>"},{"location":"Sturgeon_200_API/#52-read-request-example-2","title":"5.2 Read Request - Example 2","text":"<p>Read Request for Duty Cycle and Direction from Slave ID 16:</p> Slave ID Function ID Register Address MSB Register Address LSB # Registers MSB # Registers LSB CRC LSB CRC MSB 0x10 0x03 0x00 0x03 0x00 0x01 0x77 0x4B <p>Response from Server to the Client:</p> Slave ID Function ID # Bytes Read Data MSB Data LSB CRC LSB CRC MSB 0x10 0x03 0x02 0x01 0x64 0x44 0x3C <p>Slave ID 16 responds Duty cycle 50% in the forward direction.</p>"},{"location":"Sturgeon_200_API/#53-read-request-example-3","title":"5.3 Read Request - Example 3","text":"<p>Read multiple registers, Slave ID and Thruster orientation from Slave ID 16:</p> Slave ID Function ID Register Address MSB Register Address LSB # Registers MSB # Registers LSB CRC LSB CRC MSB 0x10 0x03 0x00 0x00 0x00 0x02 0xC7 0x4A <p>Response from Server to the Client:</p> Slave ID Function ID # Bytes Read Data MSB 1 Data LSB  1 Data MSB 2 Data LSB  2 CRC LSB CRC MSB 0x10 0x03 0x04 0x00 0x10 0x00 0x01 0x3B 0x37 <p>Slave ID 16 responds with its configured Slave ID 16 and orientation 0x01: Right hand propeller.</p>"},{"location":"Sturgeon_200_API/#54-write-request-example-1","title":"5.4 Write Request  - Example 1","text":"<p>Write request to Slave ID 220 for Duty cycle to 100% and direction to forward:</p> Slave ID Function ID Register Address MSB Register Address LSB Data MSB Data LSB CRC LSB CRC MSB 0xDC 0x06 0x00 0x03 0x01 0xC8 0x6B 0x41 <p>Response from Server to the Client:</p> Slave ID Function ID Register Address MSB Register Address LSB Data MSB Data LSB CRC LSB CRC MSB 0xDC 0x06 0x00 0x03 0x01 0xC8 0x6B 0x41 <p>Slave ID 220 responds Duty cycle 100% in the forward direction.</p>"},{"location":"Sturgeon_200_API/#55-write-request-example-2","title":"5.5 Write Request  - Example 2","text":"<p>Write request to unconfigured Server (Slave ID 0xFF) with target Slave ID 2:</p> Slave ID Function ID Register Address MSB Register Address LSB Data MSB Data LSB CRC LSB CRC MSB 0xFF 0x06 0x00 0x00 0x00 0x02 0x1D 0xD5 <p>Response from Server to the Client:</p> Slave ID Function ID Register Address MSB Register Address LSB Data MSB Data LSB CRC LSB CRC MSB 0x02 0x06 0x00 0x00 0x00 0x02 0x08 0x38 <p>Warning</p> <p>Server responds to write request for target Slave ID using updated Slave ID</p>"},{"location":"Sturgeon_200_API/#56-broadcast-example-1","title":"5.6 Broadcast - Example 1","text":"<p>Write Duty Cycle and Direction to following Servers:</p> Slave  ID Direction Duty Cycle 1 Reverse 100% 2 Reverse 100% 3 Reverse 100% 4 Reverse 100% 5 Forward 50% 6 Forward 50% <p>Example Payload 1A:</p> Bits 0-1 2-7 Description Thruster Direction Slave ID Value 0b00 0b01 <p>Resulting in 0b00000100 (0x04)</p> <p>Broadcast Message:</p> Slave  ID Function ID Register Address MSB Register Address LSB Broadcast ID Payload # Bytes Payload 1A Payload 1B Payload 2A Payload 2B Payload 3A Payload 3B Payload 4A Payload 4B Payload 5A Payload 5B Payload 6A Payload 6B CRC LSB CRC MSB 0x00 0x06 0x00 0x03 0x01 0x0C 0x04 0xC8 0x08 0xC8 0x0C 0xC8 0x10 0xC8 0x15 0x64 0x19 0x64 0xB4 0xBB <p>No network response from Servers.</p>"},{"location":"Sturgeon_200_API/#57-exception-response-example-1","title":"5.7 Exception Response - Example 1","text":"<p>The Client is requesting to read register address 0x00A0 of the Server with Slave ID 220.</p> <p>Warning</p> <p>Register address 0x00A0 is invalid</p> Slave ID Function ID Register Address MSB Register Address LSB # Registers MSB # Registers LSB CRC LSB CRC MSB 0xDC 0x03 0x00 0xA0 0x00 0x03 0x17 0x64 <p>Response from Server to the Client</p> Slave ID Function ID (Function ID | 0x80) Exception Code CRC LSB CRC MSB 0xDC 0x83 0x02 0x50 0xCB <p>Note</p> <p>This assumes the message is recieved and passes CRC validation. The exception response indicates the data address range is invalid.</p> <p>      \u00a9 2025 SEAMOR Marine Ltd. </p>"}]}